{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Axios from\"axios\";import TodoView from\"../Components/views/TodoView\";// let todoURL = \"http://localhost:5000/todos\"\nvar todoURL=\"/todos\";// let userURL = \"http://localhost:5000/users\"\nvar HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_possibleConstructorReturn(this,_getPrototypeOf(HomePage).call(this,props));_this.fetchData=function(){Axios.get(todoURL,{headers:{'authToken':_this.props.authToken}}).then(function(res){return _this.setState({todos:res.data.data});});};_this.addTodo=function(todo){Axios.post(todoURL,{title:todo},{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.editTodo=function(_id,title,completed){Axios.patch(\"\".concat(todoURL,\"/\").concat(_id),{title:title,completed:completed},{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.deleteTodo=function(_id){Axios.delete(\"\".concat(todoURL,\"/\").concat(_id),{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.addSubTodo=function(todo,_id){Axios.post(\"\".concat(todoURL,\"/\").concat(_id),{title:todo},{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.editSubTodo=function(_id,title,completed){console.log(_id,title);Axios.put(\"\".concat(todoURL,\"/sub/\").concat(_id),{title:title,completed:completed},{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.deleteSubTodo=function(_id){console.log(_id);Axios.delete(\"\".concat(todoURL,\"/sub/\").concat(_id),{headers:{'authToken':_this.props.authToken}}).then(function(){return _this.fetchData();});};_this.state={todos:[]};return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(TodoView,{todos:this.state.todos,addTodo:this.addTodo,editTodo:this.editTodo,deleteTodo:this.deleteTodo,addSubTodo:this.addSubTodo,editSubTodo:this.editSubTodo,deleteSubTodo:this.deleteSubTodo}));}}]);return HomePage;}(Component);export{HomePage as default};","map":{"version":3,"sources":["/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/src/Pages/HomePage.js"],"names":["React","Component","Axios","TodoView","todoURL","HomePage","props","fetchData","get","headers","authToken","then","res","setState","todos","data","addTodo","todo","post","title","editTodo","_id","completed","patch","deleteTodo","delete","addSubTodo","editSubTodo","console","log","put","deleteSubTodo","state"],"mappings":"srBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,8BAArB,CACA;AACA,GAAIC,CAAAA,OAAO,CAAG,QAAd,CACA;GACqBC,CAAAA,Q,kEACnB,kBAAYC,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GADiB,MAOnBC,SAPmB,CAOP,UAAM,CAChBL,KAAK,CAACM,GAAN,CAAUJ,OAAV,CAAmB,CACjBK,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADQ,CAAnB,EAEGC,IAFH,CAEQ,SAAAC,GAAG,QAAI,OAAKC,QAAL,CAAc,CAAEC,KAAK,CAAEF,GAAG,CAACG,IAAJ,CAASA,IAAlB,CAAd,CAAJ,EAFX,EAGD,CAXkB,OAenBC,OAfmB,CAeT,SAAAC,IAAI,CAAI,CAChBf,KAAK,CAACgB,IAAN,CACEd,OADF,CAEE,CAAEe,KAAK,CAAEF,IAAT,CAFF,CAEkB,CAChBR,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADO,CAFlB,EAIKC,IAJL,CAIU,iBAAM,OAAKJ,SAAL,EAAN,EAJV,EAKD,CArBkB,OAsBnBa,QAtBmB,CAsBR,SAACC,GAAD,CAAMF,KAAN,CAAaG,SAAb,CAA2B,CACpCpB,KAAK,CAACqB,KAAN,WACKnB,OADL,aACgBiB,GADhB,EAEE,CAAEF,KAAK,CAALA,KAAF,CAASG,SAAS,CAATA,SAAT,CAFF,CAEuB,CACnBb,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADU,CAFvB,EAIOC,IAJP,CAIY,iBAAM,OAAKJ,SAAL,EAAN,EAJZ,EAKD,CA5BkB,OA6BnBiB,UA7BmB,CA6BN,SAAAH,GAAG,CAAI,CAClBnB,KAAK,CAACuB,MAAN,WAAgBrB,OAAhB,aAA2BiB,GAA3B,EAAiC,CAC/BZ,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADsB,CAAjC,EAEKC,IAFL,CAEU,iBAAM,OAAKJ,SAAL,EAAN,EAFV,EAGD,CAjCkB,OAmCnBmB,UAnCmB,CAmCN,SAACT,IAAD,CAAMI,GAAN,CAAc,CACzBnB,KAAK,CAACgB,IAAN,WACKd,OADL,aACgBiB,GADhB,EAEE,CAAEF,KAAK,CAAEF,IAAT,CAFF,CAEkB,CAChBR,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADO,CAFlB,EAIKC,IAJL,CAIU,iBAAM,OAAKJ,SAAL,EAAN,EAJV,EAKD,CAzCkB,OA0CnBoB,WA1CmB,CA0CL,SAACN,GAAD,CAAMF,KAAN,CAAaG,SAAb,CAA2B,CACvCM,OAAO,CAACC,GAAR,CAAYR,GAAZ,CAAiBF,KAAjB,EACAjB,KAAK,CAAC4B,GAAN,WACK1B,OADL,iBACoBiB,GADpB,EAEE,CAAEF,KAAK,CAALA,KAAF,CAASG,SAAS,CAATA,SAAT,CAFF,CAEuB,CACnBb,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CADU,CAFvB,EAIOC,IAJP,CAIY,iBAAM,OAAKJ,SAAL,EAAN,EAJZ,EAKD,CAjDkB,OAkDnBwB,aAlDmB,CAkDH,SAAAV,GAAG,CAAI,CACrBO,OAAO,CAACC,GAAR,CAAYR,GAAZ,EACAnB,KAAK,CAACuB,MAAN,WAAgBrB,OAAhB,iBAA+BiB,GAA/B,EAAqC,CACnCZ,OAAO,CAAE,CAAE,YAAa,MAAKH,KAAL,CAAWI,SAA1B,CAD0B,CAArC,EAEKC,IAFL,CAEU,iBAAM,OAAKJ,SAAL,EAAN,EAFV,EAGD,CAvDkB,CAGjB,MAAKyB,KAAL,CAAa,CACXlB,KAAK,CAAE,EADI,CAAb,CAHiB,aAMlB,C,kFAMmB,CAClB,KAAKP,SAAL,GACD,C,uCA2CQ,CACP,MACE,gCACE,oBAAC,QAAD,EACE,KAAK,CAAE,KAAKyB,KAAL,CAAWlB,KADpB,CAEE,OAAO,CAAE,KAAKE,OAFhB,CAGE,QAAQ,CAAE,KAAKI,QAHjB,CAIE,UAAU,CAAE,KAAKI,UAJnB,CAKE,UAAU,CAAE,KAAKE,UALnB,CAME,WAAW,CAAE,KAAKC,WANpB,CAOE,aAAa,CAAE,KAAKI,aAPtB,EADF,CADF,CAaD,C,sBAxEmC9B,S,SAAjBI,Q","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport TodoView from \"../Components/views/TodoView\";\n// let todoURL = \"http://localhost:5000/todos\"\nlet todoURL = \"/todos\";\n// let userURL = \"http://localhost:5000/users\"\nexport default class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      todos: []\n    };\n  }\n  fetchData = () => {\n    Axios.get(todoURL, {\n      headers: { 'authToken': this.props.authToken }\n    }).then(res => this.setState({ todos: res.data.data }));\n  };\n  componentDidMount() {\n    this.fetchData();\n  }\n  addTodo = todo => {\n    Axios.post(\n      todoURL,\n      { title: todo },{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n  editTodo = (_id, title, completed) => {\n    Axios.patch(\n      `${todoURL}/${_id}`,\n      { title, completed },{\n        headers: { 'authToken': this.props.authToken }\n        }).then(() => this.fetchData());\n  };\n  deleteTodo = _id => {\n    Axios.delete(`${todoURL}/${_id}`,{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n\n  addSubTodo = (todo,_id) => {\n    Axios.post(\n      `${todoURL}/${_id}`,\n      { title: todo },{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n  editSubTodo = (_id, title, completed) => {\n    console.log(_id, title)\n    Axios.put(\n      `${todoURL}/sub/${_id}`,\n      { title, completed },{\n        headers: { 'authToken': this.props.authToken }\n        }).then(() => this.fetchData());\n  };\n  deleteSubTodo = _id => {\n    console.log(_id)\n    Axios.delete(`${todoURL}/sub/${_id}`,{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n\n  render() {\n    return (\n      <div>\n        <TodoView\n          todos={this.state.todos}\n          addTodo={this.addTodo}\n          editTodo={this.editTodo}\n          deleteTodo={this.deleteTodo}\n          addSubTodo={this.addSubTodo}\n          editSubTodo={this.editSubTodo}\n          deleteSubTodo={this.deleteSubTodo}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}