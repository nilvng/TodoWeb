{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Axios from'axios';import Login from\"../Components/forms/Login\";import{Link,navigate}from\"@reach/router\";import ErrorMsg from\"../Components/forms/errorMsg\";// let userURL = \"http://localhost:5000/users\"\nvar userURL=\"/users\";var LoginPage=/*#__PURE__*/function(_Component){_inherits(LoginPage,_Component);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginPage).call(this,props));_this.loginUser=function(user){Axios.post(userURL+\"/signin\",user).then(function(res){_this.props.receiveToken(res.headers.authtoken);navigate(\"/home\");}).catch(function(err){if(err.response)_this.setState({msg:err.response.data});});};_this.state={msg:''};return _this;}_createClass(LoginPage,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"d-flex flex-column text-center\"},React.createElement(\"h3\",{className:\"font-weight-normal\"},\"Welcome back! please sign in\"),this.state.msg!==''&&ErrorMsg(this.state.msg),React.createElement(Login,{loginUser:this.loginUser}),React.createElement(Link,{to:\"/register\"},\"Register for an account?\"));}}]);return LoginPage;}(Component);export{LoginPage as default};","map":{"version":3,"sources":["/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/src/Pages/LoginPage.js"],"names":["React","Component","Axios","Login","Link","navigate","ErrorMsg","userURL","LoginPage","props","loginUser","user","post","then","res","receiveToken","headers","authtoken","catch","err","response","setState","msg","data","state"],"mappings":"srBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,2BAAlB,CACA,OAASC,IAAT,CAAcC,QAAd,KAA8B,eAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,8BAArB,CACA;AACA,GAAIC,CAAAA,OAAO,CAAG,QAAd,C,GACqBC,CAAAA,S,mEACrB,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GADiB,MASjBC,SATiB,CASL,SAACC,IAAD,CAAU,CACpBT,KAAK,CACJU,IADD,CACML,OAAO,CAAG,SADhB,CAC0BI,IAD1B,EAECE,IAFD,CAEM,SAAAC,GAAG,CAAI,CACX,MAAKL,KAAL,CAAWM,YAAX,CAAwBD,GAAG,CAACE,OAAJ,CAAYC,SAApC,EACAZ,QAAQ,CAAC,OAAD,CAAR,CACD,CALD,EAMCa,KAND,CAMO,SAAAC,GAAG,CAAI,CAAC,GAAIA,GAAG,CAACC,QAAR,CAAkB,MAAKC,QAAL,CAAc,CAACC,GAAG,CAAEH,GAAG,CAACC,QAAJ,CAAaG,IAAnB,CAAd,EAAwC,CANzE,EAOD,CAjBgB,CAGjB,MAAKC,KAAL,CAAa,CACVF,GAAG,CAAE,EADK,CAAb,CAHiB,aAMlB,C,6DAaU,CACP,MACE,4BAAK,SAAS,CAAC,gCAAf,EACE,0BAAI,SAAS,CAAC,oBAAd,iCADF,CAII,KAAKE,KAAL,CAAWF,GAAX,GAAmB,EAAnB,EAAyBhB,QAAQ,CAAC,KAAKkB,KAAL,CAAWF,GAAZ,CAJrC,CAKE,oBAAC,KAAD,EAAO,SAAS,CAAI,KAAKZ,SAAzB,EALF,CAME,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,6BANF,CADF,CAYD,C,uBAjCoCT,S,SAAlBO,S","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from 'axios'\nimport Login from \"../Components/forms/Login\";\nimport { Link,navigate } from \"@reach/router\";\nimport ErrorMsg from \"../Components/forms/errorMsg\";\n// let userURL = \"http://localhost:5000/users\"\nlet userURL = \"/users\"\nexport default class LoginPage extends Component {\nconstructor(props) {\n  super(props)\n\n  this.state = {\n     msg: ''\n  }\n}\n\n\n  loginUser = (user) => {\n    Axios\n    .post(userURL + \"/signin\",user)\n    .then(res => {\n      this.props.receiveToken(res.headers.authtoken)\n      navigate(\"/home\")\n    })\n    .catch(err => {if (err.response) this.setState({msg: err.response.data})})\n  }\n\n  render() {\n    return (\n      <div className=\"d-flex flex-column text-center\">\n        <h3 className=\"font-weight-normal\" >\n          Welcome back! please sign in\n        </h3>\n        { this.state.msg !== '' && ErrorMsg(this.state.msg) }\n        <Login loginUser = {this.loginUser}/>\n        <Link to=\"/register\">\n          Register for an account?\n        </Link>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}