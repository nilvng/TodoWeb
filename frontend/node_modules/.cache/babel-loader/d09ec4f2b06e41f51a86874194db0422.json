{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/src/Pages/HomePage.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport TodoView from \"../Components/views/TodoView\"; // let todoURL = \"http://localhost:5000/todos\"\n\nlet todoURL = \"/todos\"; // let userURL = \"http://localhost:5000/users\"\n\nexport default class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = () => {\n      Axios.get(todoURL, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(res => this.setState({\n        todos: res.data.data\n      }));\n    };\n\n    this.addTodo = todo => {\n      Axios.post(todoURL, {\n        title: todo\n      }, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.editTodo = (_id, title, completed) => {\n      Axios.patch(`${todoURL}/${_id}`, {\n        title,\n        completed\n      }, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.deleteTodo = _id => {\n      Axios.delete(`${todoURL}/${_id}`, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.addSubTodo = (todo, _id) => {\n      Axios.post(`${todoURL}/${_id}`, {\n        title: todo\n      }, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.editSubTodo = (_id, title, completed) => {\n      console.log(_id, title);\n      Axios.patch(`${todoURL}/sub/${_id}`, {\n        title,\n        completed\n      }, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.deleteSubTodo = _id => {\n      console.log(_id);\n      Axios.delete(`${todoURL}/sub/${_id}`, {\n        headers: {\n          'authToken': this.props.authToken\n        }\n      }).then(() => this.fetchData());\n    };\n\n    this.state = {\n      todos: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(TodoView, {\n      todos: this.state.todos,\n      addTodo: this.addTodo,\n      editTodo: this.editTodo,\n      deleteTodo: this.deleteTodo,\n      addSubTodo: this.addSubTodo,\n      editSubTodo: this.editSubTodo,\n      deleteSubTodo: this.deleteSubTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/Self-Study/todo-fullstack/frontend/src/Pages/HomePage.js"],"names":["React","Component","Axios","TodoView","todoURL","HomePage","constructor","props","fetchData","get","headers","authToken","then","res","setState","todos","data","addTodo","todo","post","title","editTodo","_id","completed","patch","deleteTodo","delete","addSubTodo","editSubTodo","console","log","deleteSubTodo","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport TodoView from \"../Components/views/TodoView\";\n// let todoURL = \"http://localhost:5000/todos\"\nlet todoURL = \"/todos\";\n// let userURL = \"http://localhost:5000/users\"\nexport default class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      todos: []\n    };\n  }\n  fetchData = () => {\n    Axios.get(todoURL, {\n      headers: { 'authToken': this.props.authToken }\n    }).then(res => this.setState({ todos: res.data.data }));\n  };\n  componentDidMount() {\n    this.fetchData();\n  }\n  addTodo = todo => {\n    Axios.post(\n      todoURL,\n      { title: todo },{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n  editTodo = (_id, title, completed) => {\n    Axios.patch(\n      `${todoURL}/${_id}`,\n      { title, completed },{\n        headers: { 'authToken': this.props.authToken }\n        }).then(() => this.fetchData());\n  };\n  deleteTodo = _id => {\n    Axios.delete(`${todoURL}/${_id}`,{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n\n  addSubTodo = (todo,_id) => {\n    Axios.post(\n      `${todoURL}/${_id}`,\n      { title: todo },{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n  editSubTodo = (_id, title, completed) => {\n    console.log(_id, title)\n    Axios.patch(\n      `${todoURL}/sub/${_id}`,\n      { title, completed },{\n        headers: { 'authToken': this.props.authToken }\n        }).then(() => this.fetchData());\n  };\n  deleteSubTodo = _id => {\n    console.log(_id)\n    Axios.delete(`${todoURL}/sub/${_id}`,{\n      headers: { 'authToken': this.props.authToken }\n      }).then(() => this.fetchData());\n  };\n\n  render() {\n    return (\n      <div>\n        <TodoView\n          todos={this.state.todos}\n          addTodo={this.addTodo}\n          editTodo={this.editTodo}\n          deleteTodo={this.deleteTodo}\n          addSubTodo={this.addSubTodo}\n          editSubTodo={this.editSubTodo}\n          deleteSubTodo={this.deleteSubTodo}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}